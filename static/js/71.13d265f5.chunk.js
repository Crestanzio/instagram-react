"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[71],{17:function(e,n,t){t.d(n,{Ei:function(){return m},Mg:function(){return o},QJ:function(){return a},dy:function(){return d},hq:function(){return c},mB:function(){return u},sv:function(){return i},vc:function(){return l},xi:function(){return s}});var r=t(184),s=function(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",cursor:e.cursor,onClick:e.onClick,children:(0,r.jsx)("path",{d:"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z"})})},o=function(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#ed4956",fill:"#ed4956",height:"24",role:"img",viewBox:"0 0 48 48",width:"24",cursor:e.cursor,onClick:e.onClick,children:(0,r.jsx)("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})})},c=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"20",fill:"white",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})},i=function(e){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",cursor:e.cursor,id:e.id,onClick:e.onClick,children:(0,r.jsx)("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})})},a=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"20",fill:"white",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})},l=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,r.jsx)("polygon",{fill:"none",points:"20 21 12 13.44 4 21 4 3 20 3 20 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})})},u=function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,r.jsx)("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"22",x2:"9.218",y1:"3",y2:"10.083"}),(0,r.jsx)("polygon",{fill:"none",points:"11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"})]})},d=function(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:(0,r.jsx)("path",{d:"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z"})})},m=function(){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",color:"#262626",fill:"#262626",height:"24",role:"img",viewBox:"0 0 24 24",width:"24",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,r.jsx)("circle",{cx:"6",cy:"12",r:"1.5"}),(0,r.jsx)("circle",{cx:"18",cy:"12",r:"1.5"})]})}},39:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var r=t(791),s=t(886),o=(0,r.createContext)(null),c=t(504),i=t(551),a=t(17),l=t(184),u=function(e){var n=e.username;return(0,l.jsxs)("div",{className:"top-post-menu",children:[(0,l.jsxs)("div",{className:"user-container",children:[(0,l.jsx)(c.rU,{to:"".concat(i.h1).concat(n),children:(0,l.jsx)("img",{src:"".concat(i.cE,"/images/avatars/").concat(n,".jpg"),alt:"".concat(n),className:"post-user-icon"})}),(0,l.jsx)("h5",{children:n})]}),(0,l.jsx)(a.Ei,{})]})},d=function(e){var n=e.src,t=e.caption;return(0,l.jsx)("img",{src:n,id:"dynamic-image-by-user",alt:t})},m=t(214),h=t(861),x=t(885),f=t(344),p=t(428),g=function(e){var n=e.docId,t=e.totalLikes,s=e.likedPhoto,o=e.handleFocus,c=(0,r.useContext)(p.Z).user.uid,i=(0,r.useContext)(f.Z),u=i.firebase,d=i.FieldValue,g=(0,r.useState)(s),v=(0,x.Z)(g,2),j=v[0],w=v[1],k=(0,r.useState)(t),I=(0,x.Z)(k,2),C=I[0],N=I[1],Z=function(){var e=(0,h.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w((function(e){return!e})),e.next=3,u.firestore().collection("photos").doc(n).update({likes:j?d.arrayRemove(c):d.arrayUnion(c)});case 3:N((function(e){return j?e-1:e+1}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bottom-post-icons",children:[(0,l.jsxs)("div",{className:"bottom-icons-container",children:[j?(0,l.jsx)(a.Mg,{cursor:"pointer",onClick:Z}):(0,l.jsx)(a.xi,{cursor:"pointer",onClick:Z}),(0,l.jsx)(a.sv,{cursor:"pointer",onClick:o}),(0,l.jsx)(a.mB,{})]}),(0,l.jsx)(a.vc,{})]}),(0,l.jsx)("div",{className:"likes-session",children:(0,l.jsx)("h5",{children:"".concat(C,1===C?" like":" likes")})})]})},v=function(e){var n=e.caption,t=e.username;return(0,l.jsxs)("div",{className:"post-caption",children:[(0,l.jsx)("h5",{children:t}),(0,l.jsx)("span",{children:n})]})},j=t(125),w=t(982),k=function(e){var n=e.docId,t=e.comments,s=e.setComments,o=e.commentInput,c=(0,r.useState)(""),i=(0,x.Z)(c,2),u=i[0],d=i[1],m=(0,r.useContext)(f.Z),h=m.firebase,g=m.FieldValue,v=(0,r.useContext)(p.Z).user.displayName,j=function(e){return e.preventDefault(),s([].concat((0,w.Z)(t),[{displayName:v,comment:u}])),d(""),h.firestore().collection("photos").doc(n).update({comments:g.arrayUnion({displayName:v,comment:u})})};return(0,l.jsxs)("form",{className:"post-add-comment",method:"POST",onSubmit:function(e){return u.length>=1?j(e):e.preventDefault},children:[(0,l.jsx)(a.dy,{}),(0,l.jsx)("input",{type:"text",name:"add-comment",placeholder:"Add a comment...",autoComplete:"off",value:u,onChange:function(e){var n=e.target;return d(n.value)},ref:o}),(0,l.jsx)("button",{type:"button",disabled:u.length<1,onClick:j,children:"Post"})]})},I=function(e){var n=e.docId,t=e.comments,s=e.posted,o=e.commentInput,i=(0,r.useState)(t),a=(0,x.Z)(i,2),u=a[0],d=a[1],m=(0,r.useState)(3),h=(0,x.Z)(m,2),f=h[0],p=h[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"post-comments",children:[u.slice(0,f).map((function(e){return(0,l.jsxs)("p",{children:[(0,l.jsx)(c.rU,{to:"/".concat(e.displayName),children:(0,l.jsx)("span",{className:"post-comments-user",children:e.displayName})}),(0,l.jsx)("span",{children:e.comment})]},"".concat(e.comment,"-").concat(e.displayName))})),u.length>=3&&f<u.length&&(0,l.jsx)("p",{className:"comments-view-more",onClick:function(){p(f+3)},children:"View more comments"}),(0,l.jsxs)("p",{children:[(0,j.Z)(s,new Date)," ago"]})]}),(0,l.jsx)(k,{docId:n,comments:u,setComments:d,commentInput:o})]})},C=function(e){var n=e.content,t=(0,r.useRef)(null);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"post-container",children:[(0,l.jsx)(u,{username:n.username}),(0,l.jsx)(d,{src:"".concat(i.cE).concat(n.imageSrc),caption:n.caption}),(0,l.jsx)(g,{docId:n.docId,totalLikes:n.likes.length,likedPhoto:n.userLikedPhoto,handleFocus:function(){return t.current.focus()}}),(0,l.jsx)(v,{caption:n.caption,username:n.username}),(0,l.jsx)(I,{docId:n.docId,comments:n.comments,posted:n.dateCreated,commentInput:t})]})})},N=t(973),Z=function(e){var n=(0,r.useState)(null),t=(0,x.Z)(n,2),s=t[0],o=t[1];return(0,r.useEffect)((function(){var n=function(){var n=(0,h.Z)((0,m.Z)().mark((function n(){var t,r;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((null===e||void 0===e||null===(t=e.following)||void 0===t?void 0:t.length)>0)){n.next=6;break}return n.next=3,(0,N.wP)(e.userId,e.following);case 3:(r=n.sent).sort((function(e,n){return n.dateCreated-e.dateCreated})),o(r);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[null===e||void 0===e?void 0:e.userId,null===e||void 0===e?void 0:e.following]),{photos:s}},y=function(){var e=(0,r.useContext)(o).user,n=Z(e).photos;return(0,l.jsx)("section",{className:"post-wrapper",children:n?n.map((function(e){return(0,l.jsx)(C,{content:e},e.docId)})):null})},b=t(19),z=function(e){var n=e.username,t=e.fullName;return n&&t?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"user-suggestion-wrapper",children:(0,l.jsxs)("div",{className:"user-suggestion-container",children:[(0,l.jsx)(c.rU,{to:"".concat(i.h1).concat(n),children:(0,l.jsx)("img",{src:"".concat(i.cE,"/images/avatars/").concat(n,".jpg"),className:"suggestions-main-user-icon",alt:n,onError:function(e){e.target.src="".concat(i.cE).concat(b.h)}})}),(0,l.jsxs)("div",{className:"username-container",children:[(0,l.jsx)("h5",{children:n}),(0,l.jsx)("h5",{children:t})]})]})})}):(0,l.jsx)(l.Fragment,{})},E=function(e){var n=e.profileDocId,t=e.username,s=e.profileId,o=e.userId,a=e.loggenInUserDocId,u=(0,r.useState)(!1),d=(0,x.Z)(u,2),f=d[0],p=d[1],g=function(){var e=(0,h.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,(0,N.NS)(a,s,!1);case 3:return e.next=5,(0,N.T6)(n,o,!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?null:(0,l.jsxs)("div",{className:"user-suggestion-wrapper",children:[(0,l.jsxs)("div",{className:"user-suggestion-container",children:[(0,l.jsx)(c.rU,{to:"".concat(i.h1).concat(t),children:(0,l.jsx)("img",{src:"".concat(i.cE,"/images/avatars/").concat(t,".jpg"),className:"suggestions-icon",alt:t,onError:function(e){e.target.src="".concat(i.cE).concat(b.h)}})}),(0,l.jsx)("div",{className:"username-container",children:(0,l.jsx)("h5",{children:t})})]}),(0,l.jsx)("div",{className:"user-suggestion-button",children:(0,l.jsx)("button",{type:"button",id:"follow-button",onClick:g,children:"Follow"})})]})},F=function(e){var n=e.userId,t=e.following,s=e.loggenInUserDocId,o=(0,r.useState)(null),c=(0,x.Z)(o,2),i=c[0],a=c[1];return(0,r.useEffect)((function(){var e=function(){var e=(0,h.Z)((0,m.Z)().mark((function e(){var r;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.ve)(n,t);case 2:r=e.sent,a(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n&&e()}),[n,t]),i?i.length>0?(0,l.jsx)(l.Fragment,{children:i.map((function(e){return(0,l.jsx)(E,{profileDocId:e.docId,username:e.username,profileId:e.userId,userId:n,loggenInUserDocId:s},e.docId)}))}):null:(0,l.jsx)(l.Fragment,{})},L=function(){var e=(0,r.useContext)(o).user,n=(e=void 0===e?{}:e).docId,t=void 0===n?"":n,s=e.fullName,c=e.username,i=e.userId,a=e.following;return(0,l.jsx)("div",{className:"suggestions-wrapper",children:(0,l.jsxs)("section",{className:"suggestions-container",children:[(0,l.jsx)(z,{username:c,fullName:s}),(0,l.jsx)(F,{userId:i,following:a,loggenInUserDocId:t})]})})},S=t(592),U=function(e){var n=e.user,t=(0,S.Z)(n.uid),c=t.user,i=t.setActiveUser;return(0,r.useEffect)((function(){document.title="Instagram"}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(o.Provider,{value:{user:c,setActiveUser:i},children:[(0,l.jsx)(s.Z,{}),(0,l.jsxs)("div",{className:"dashboard-wrapper",children:[(0,l.jsx)(y,{}),(0,l.jsx)(L,{})]})]})})}}}]);
//# sourceMappingURL=71.13d265f5.chunk.js.map